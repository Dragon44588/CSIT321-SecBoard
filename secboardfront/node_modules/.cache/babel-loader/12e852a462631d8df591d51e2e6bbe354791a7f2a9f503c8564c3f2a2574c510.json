{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { reactive, ref } from \"vue\";\nimport api from \"@/api/APIs\";\n// import { ElMessage } from \"element-plus\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  __name: 'My_posts',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const router = useRouter();\n    const myPostsList = ref();\n    // const postContent = ref();\n    // const postTitle = ref();\n\n    const mytoken = window.sessionStorage.getItem(\"token\");\n    const myname = window.sessionStorage.getItem(\"name\");\n    const authForm = reactive({\n      token: mytoken,\n      name: myname\n    });\n\n    // const sendToDatabase = reactive({\n    // \ttitle: postTitle.value,\n    // \tcontent: postContent.value,\n    // \ttoken: mytoken,\n    // \tname: myname,\n    // });\n\n    api.getMyPostsApi(authForm).then(res => {\n      console.log(res);\n      myPostsList.value = res.myPosts;\n    });\n    function goAddNewPost() {\n      router.push({\n        path: \"/home/add-new-post\"\n      });\n    }\n\n    // function requestDelete(mpl) {\n    // \tsendToDatabase.title = mpl.title;\n    // \tsendToDatabase.content = mpl.content;\n    // \tapi.addDeleteRequest(sendToDatabase).then((res) => {\n    // \t\tif (res.status === 201) {\n    // \t\t\tElMessage({\n    // \t\t\t\tmessage: \"Done!\",\n    // \t\t\t\ttype: \"success\",\n    // \t\t\t});\n    // \t\t\trouter.push({ path: \"/home\" });\n    // \t\t}\n    // \t});\n    // }\n\n    const __returned__ = {\n      router,\n      myPostsList,\n      mytoken,\n      myname,\n      authForm,\n      goAddNewPost,\n      reactive,\n      ref,\n      get api() {\n        return api;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","ref","api","useRouter","router","myPostsList","mytoken","window","sessionStorage","getItem","myname","authForm","token","name","getMyPostsApi","then","res","console","log","value","myPosts","goAddNewPost","push","path"],"sources":["/Users/xxxandre/UOW_Related/CSIT321_Project/github/github2/secboardfront/src/components/HomepageComponents/My_posts.vue"],"sourcesContent":["<template>\n\t<div style=\"height: 20%; display: flex; align-items: center\">\n\t\t<h1 style=\"margin-left: 50px; font-size: 3em; font-weight: bold\">My Posts</h1>\n\t</div>\n\t<div style=\"flex: 1\">\n\t\t<div style=\"background-color: white; min-height: 500px; margin: 20px 20px 20px 50px; border-radius: 5px\">\n\t\t\t<ul style=\"display: grid; grid-template-columns: repeat(3, minmax(350px, 35%)); grid-auto-rows: 350px\">\n\t\t\t\t<li v-for=\"(mpl, index) in myPostsList\" :key=\"index\" style=\"height: 300px; margin: 20px; background-color: #fdf2b3; border-radius: 5px\">\n\t\t\t\t\t<div style=\"padding: 15px\">\n\t\t\t\t\t\t<div style=\"display: flex\">\n\t\t\t\t\t\t\t<div style=\"flex: 1; width: inherit; white-space: normal; word-break: break-all; word-wrap: break-word\">\n\t\t\t\t\t\t\t\t<strong style=\"font-weight: bold; font-size: 2em\">{{ mpl.title }}</strong>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div style=\"display: flex; justify-content: center\">\n\t\t\t\t\t\t\t\t<div style=\"margin-right: 10px; color: rgb(77, 76, 76); cursor: pointer\">\n\t\t\t\t\t\t\t\t\t<h4>Edit</h4>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style=\"cursor: pointer\">\n\t\t\t\t\t\t\t\t\t<img @click=\"requestDelete(mpl)\" style=\"height: 20px; width: 20px\" src=\"../../../public/trash.svg\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div style=\"margin-top: 5px\">\n\t\t\t\t\t\t\t<span style=\"font-size: 1.1em\">\n\t\t\t\t\t\t\t\t{{ mpl.content }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li @click=\"goAddNewPost\" class=\"add-post-button\" style=\"height: 300px; margin: 20px; border-radius: 5px; display: flex; justify-content: center; align-items: center; cursor: pointer\">\n\t\t\t\t\t<div style=\"padding: 15px\">\n\t\t\t\t\t\t<img style=\"height: 100px; width: 100px\" src=\"../../../public/add-outline.svg\" />\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\nimport { reactive, ref } from \"vue\";\nimport api from \"@/api/APIs\";\n// import { ElMessage } from \"element-plus\";\nimport { useRouter } from \"vue-router\";\nconst router = useRouter();\nconst myPostsList = ref();\n// const postContent = ref();\n// const postTitle = ref();\n\nconst mytoken = window.sessionStorage.getItem(\"token\");\nconst myname = window.sessionStorage.getItem(\"name\");\n\nconst authForm = reactive({\n\ttoken: mytoken,\n\tname: myname,\n});\n\n// const sendToDatabase = reactive({\n// \ttitle: postTitle.value,\n// \tcontent: postContent.value,\n// \ttoken: mytoken,\n// \tname: myname,\n// });\n\napi.getMyPostsApi(authForm).then((res) => {\n\tconsole.log(res);\n\tmyPostsList.value = res.myPosts;\n});\n\nfunction goAddNewPost() {\n\trouter.push({ path: \"/home/add-new-post\" });\n}\n\n// function requestDelete(mpl) {\n// \tsendToDatabase.title = mpl.title;\n// \tsendToDatabase.content = mpl.content;\n// \tapi.addDeleteRequest(sendToDatabase).then((res) => {\n// \t\tif (res.status === 201) {\n// \t\t\tElMessage({\n// \t\t\t\tmessage: \"Done!\",\n// \t\t\t\ttype: \"success\",\n// \t\t\t});\n// \t\t\trouter.push({ path: \"/home\" });\n// \t\t}\n// \t});\n// }\n</script>\n\n<style scope>\n.add-post-button {\n\tbackground-color: lightgrey;\n}\n.add-post-button:hover {\n\tbackground-color: rgb(143, 142, 142);\n}\n.btn {\n\tborder: 1px solid black;\n\tbackground-color: white;\n\tcolor: black;\n\tpadding: 14px 28px;\n\tfont-size: 16px;\n\tcursor: pointer;\n}\n.delete {\n\tbackground-color: #992c2c;\n\tborder: 0px solid black;\n\ttext-align: center;\n\twidth: 47%;\n}\n.delete:hover {\n\tbackground-color: #872424;\n}\n</style>\n"],"mappings":";AA0CA,SAASA,QAAQ,EAAEC,GAAG,QAAQ,KAAK;AACnC,OAAOC,GAAG,MAAM,YAAY;AAC5B;AACA,SAASC,SAAS,QAAQ,YAAY;;;;;;;IACtC,MAAMC,MAAM,GAAGD,SAAS,EAAE;IAC1B,MAAME,WAAW,GAAGJ,GAAG,EAAE;IACzB;IACA;;IAEA,MAAMK,OAAO,GAAGC,MAAM,CAACC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;IACtD,MAAMC,MAAM,GAAGH,MAAM,CAACC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC;IAEpD,MAAME,QAAQ,GAAGX,QAAQ,CAAC;MACzBY,KAAK,EAAEN,OAAO;MACdO,IAAI,EAAEH;IACP,CAAC,CAAC;;IAEF;IACA;IACA;IACA;IACA;IACA;;IAEAR,GAAG,CAACY,aAAa,CAACH,QAAQ,CAAC,CAACI,IAAI,CAAEC,GAAG,IAAK;MACzCC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChBX,WAAW,CAACc,KAAK,GAAGH,GAAG,CAACI,OAAO;IAChC,CAAC,CAAC;IAEF,SAASC,YAAYA,CAAA,EAAG;MACvBjB,MAAM,CAACkB,IAAI,CAAC;QAAEC,IAAI,EAAE;MAAqB,CAAC,CAAC;IAC5C;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}