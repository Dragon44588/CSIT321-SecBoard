{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createVNode as _createVNode, normalizeStyle as _normalizeStyle } from \"vue\";\nimport _imports_0 from '../../../public/trash.svg';\nimport _imports_1 from '../../../public/add-outline.svg';\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"height\": \"20%\",\n    \"display\": \"flex\",\n    \"align-items\": \"center\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"h1\", {\n  style: {\n    \"margin-left\": \"50px\",\n    \"font-size\": \"3em\",\n    \"font-weight\": \"bold\"\n  }\n}, \"My Posts\")], -1 /* HOISTED */);\nconst _hoisted_2 = {\n  style: {\n    \"flex\": \"1\"\n  }\n};\nconst _hoisted_3 = {\n  style: {\n    \"background-color\": \"white\",\n    \"min-height\": \"500px\",\n    \"margin\": \"20px 20px 20px 50px\",\n    \"border-radius\": \"5px\"\n  }\n};\nconst _hoisted_4 = {\n  style: {\n    \"display\": \"grid\",\n    \"grid-template-columns\": \"repeat(3, minmax(350px, 35%))\",\n    \"grid-auto-rows\": \"350px\"\n  }\n};\nconst _hoisted_5 = {\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"flex-end\"\n  }\n};\nconst _hoisted_6 = {\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"center\"\n  }\n};\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"h4\", null, \"Edit\", -1 /* HOISTED */);\nconst _hoisted_9 = [_hoisted_8];\nconst _hoisted_10 = {\n  style: {\n    \"cursor\": \"pointer\"\n  }\n};\nconst _hoisted_11 = [\"onClick\"];\nconst _hoisted_12 = {\n  style: {\n    \"font-weight\": \"bold\",\n    \"font-size\": \"2em\"\n  }\n};\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"padding\": \"15px\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  style: {\n    \"height\": \"100px\",\n    \"width\": \"100px\"\n  },\n  src: _imports_1\n})], -1 /* HOISTED */);\nconst _hoisted_14 = [_hoisted_13];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"ul\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.myPostsList, (mpl, index) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: index,\n      style: _normalizeStyle([{\n        backgroundColor: mpl.background_color\n      }, {\n        \"height\": \"300px\",\n        \"margin\": \"20px\",\n        \"border-radius\": \"5px\",\n        \"padding\": \"10px 10px 100px 10px\",\n        \"overflow\": \"hidden\"\n      }])\n    }, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", {\n      onClick: $event => $setup.requestEdit(mpl),\n      style: {\n        \"margin-right\": \"10px\",\n        \"color\": \"rgb(77, 76, 76)\",\n        \"cursor\": \"pointer\"\n      }\n    }, _hoisted_9, 8 /* PROPS */, _hoisted_7), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"img\", {\n      onClick: $event => $setup.requestDelete(mpl),\n      style: {\n        \"height\": \"20px\",\n        \"width\": \"20px\"\n      },\n      src: _imports_0\n    }, null, 8 /* PROPS */, _hoisted_11)])])]), _createElementVNode(\"p\", _hoisted_12, _toDisplayString(mpl.title), 1 /* TEXT */), _createElementVNode(\"p\", null, [_createTextVNode(\" By: \"), _createElementVNode(\"strong\", null, _toDisplayString(mpl.user_name), 1 /* TEXT */), _createTextVNode(\" on \"), _createElementVNode(\"strong\", null, _toDisplayString(mpl.timestamp), 1 /* TEXT */)]), _createVNode($setup[\"QuillEditor\"], {\n      content: mpl.content.ops,\n      \"onUpdate:content\": $event => mpl.content.ops = $event,\n      theme: \"bubble\",\n      options: $setup.editorOptions\n    }, null, 8 /* PROPS */, [\"content\", \"onUpdate:content\"])], 4 /* STYLE */);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"li\", {\n    onClick: $setup.goAddNewPost,\n    class: \"add-post-button\",\n    style: {\n      \"height\": \"300px\",\n      \"margin\": \"20px\",\n      \"border-radius\": \"5px\",\n      \"display\": \"flex\",\n      \"justify-content\": \"center\",\n      \"align-items\": \"center\",\n      \"cursor\": \"pointer\"\n    }\n  }, _hoisted_14)])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_imports_0","_imports_1","_createElementVNode","style","_hoisted_8","src","_hoisted_13","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createElementBlock","_Fragment","_renderList","$setup","myPostsList","mpl","index","key","_normalizeStyle","backgroundColor","background_color","_hoisted_5","_hoisted_6","onClick","$event","requestEdit","_hoisted_10","requestDelete","_hoisted_12","_toDisplayString","title","user_name","timestamp","_createVNode","content","ops","theme","options","editorOptions","goAddNewPost","class"],"sources":["C:\\Users\\Azza\\Desktop\\CSIT321\\CSIT321-SecBoard\\secboardfront\\src\\components\\HomepageComponents\\My_posts.vue"],"sourcesContent":["<template>\r\n\t<div style=\"height: 20%; display: flex; align-items: center\">\r\n\t\t<h1 style=\"margin-left: 50px; font-size: 3em; font-weight: bold\">My Posts</h1>\r\n\t</div>\r\n\t<div style=\"flex: 1\">\r\n\t\t<div style=\"background-color: white; min-height: 500px; margin: 20px 20px 20px 50px; border-radius: 5px\">\r\n\t\t\t<ul style=\"display: grid; grid-template-columns: repeat(3, minmax(350px, 35%)); grid-auto-rows: 350px\">\r\n\t\t\t\t<li v-for=\"(mpl, index) in myPostsList\" :key=\"index\" :style=\"{ backgroundColor: mpl.background_color }\" style=\"height: 300px; margin: 20px; border-radius: 5px; padding: 10px 10px 100px 10px; overflow: hidden\">\r\n\t\t\t\t\t<div style=\"display: flex; justify-content: flex-end\">\r\n\t\t\t\t\t\t<div style=\"display: flex; justify-content: center\">\r\n\t\t\t\t\t\t\t<div @click=\"requestEdit(mpl)\" style=\"margin-right: 10px; color: rgb(77, 76, 76); cursor: pointer\">\r\n\t\t\t\t\t\t\t\t<h4>Edit</h4>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div style=\"cursor: pointer\">\r\n\t\t\t\t\t\t\t\t<img @click=\"requestDelete(mpl)\" style=\"height: 20px; width: 20px\" src=\"../../../public/trash.svg\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<p style=\"font-weight: bold; font-size: 2em\">{{ mpl.title }}</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tBy: <strong>{{ mpl.user_name }}</strong> on <strong>{{ mpl.timestamp }}</strong>\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t<QuillEditor v-model:content=\"mpl.content.ops\" theme=\"bubble\" :options=\"editorOptions\" />\r\n\t\t\t\t</li>\r\n\t\t\t\t<li @click=\"goAddNewPost\" class=\"add-post-button\" style=\"height: 300px; margin: 20px; border-radius: 5px; display: flex; justify-content: center; align-items: center; cursor: pointer\">\r\n\t\t\t\t\t<div style=\"padding: 15px\">\r\n\t\t\t\t\t\t<img style=\"height: 100px; width: 100px\" src=\"../../../public/add-outline.svg\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, ref } from \"vue\";\r\nimport api from \"@/api/APIs\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { QuillEditor } from \"@vueup/vue-quill\";\r\nimport \"@vueup/vue-quill/dist/vue-quill.snow.css\";\r\nimport \"@vueup/vue-quill/dist/vue-quill.bubble.css\";\r\n\r\nconst router = useRouter();\r\nconst myPostsList = ref();\r\nconst postContent = ref();\r\nconst postTitle = ref();\r\n\r\nconst mytoken = window.sessionStorage.getItem(\"token\");\r\nconst myname = window.sessionStorage.getItem(\"name\");\r\n\r\nconst authForm = reactive({\r\n\ttoken: mytoken,\r\n\tname: myname,\r\n});\r\n\r\nconst sendToDatabase = reactive({\r\n\tpost_id: null,\r\n\ttitle: postTitle.value,\r\n\tcontent: postContent.value,\r\n\ttoken: mytoken,\r\n\tname: myname,\r\n});\r\n\r\napi.getMyPostsApi(authForm).then((res) => {\r\n\tmyPostsList.value = res.myPosts;\r\n});\r\n\r\nfunction goAddNewPost() {\r\n\trouter.push({ path: \"/home/add-new-post\" });\r\n}\r\n\r\nfunction requestDelete(mpl) {\r\n\tsendToDatabase.post_id = mpl.post_id;\r\n\tsendToDatabase.title = mpl.title;\r\n\tsendToDatabase.content = mpl.content;\r\n\tapi.addDeleteRequest(sendToDatabase).then((res) => {\r\n\t\tif (res.status === 201) {\r\n\t\t\tElMessage({\r\n\t\t\t\tmessage: \"Done!\",\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t});\r\n\t\t\trouter.push({ path: \"/home\" });\r\n\t\t}\r\n\t});\r\n}\r\nfunction requestEdit(mpl) {\r\n\twindow.sessionStorage.setItem(\"current_editing\", JSON.stringify(mpl));\r\n\trouter.push({ path: \"/home/edit_post\" });\r\n\r\n\t// sendToDatabase.post_id = mpl.post_id;\r\n\t// sendToDatabase.title = mpl.title;\r\n\t// sendToDatabase.content = mpl.content;\r\n\t// api.addEditRequest(sendToDatabase).then((res) => {\r\n\t// \tif (res.status === 201) {\r\n\t// \t\tElMessage({\r\n\t// \t\t\tmessage: \"Done!\",\r\n\t// \t\t\ttype: \"success\",\r\n\t// \t\t});\r\n\t// \t\trouter.push({ path: \"/home\" });\r\n\t// \t}\r\n\t// });\r\n}\r\nconst editorOptions = {\r\n\treadOnly: true,\r\n\ttheme: \"bubble\",\r\n};\r\n</script>\r\n\r\n<style scope>\r\n.add-post-button {\r\n\tbackground-color: lightgrey;\r\n}\r\n.add-post-button:hover {\r\n\tbackground-color: rgb(143, 142, 142);\r\n}\r\n.btn {\r\n\tborder: 1px solid black;\r\n\tbackground-color: white;\r\n\tcolor: black;\r\n\tpadding: 14px 28px;\r\n\tfont-size: 16px;\r\n\tcursor: pointer;\r\n}\r\n.delete {\r\n\tbackground-color: #992c2c;\r\n\tborder: 0px solid black;\r\n\ttext-align: center;\r\n\twidth: 47%;\r\n}\r\n.delete:hover {\r\n\tbackground-color: #872424;\r\n}\r\n</style>\r\n"],"mappings":";OAc2EA,UAA+B;OAc3DC,UAAqC;gCA3BnFC,mBAAA,CAEM;EAFDC,KAAuD,EAAvD;IAAA;IAAA;IAAA;EAAA;AAAuD,I,aAC3DD,mBAAA,CAA8E;EAA1EC,KAA4D,EAA5D;IAAA;IAAA;IAAA;EAAA;AAA4D,GAAC,UAAQ,E;;EAErEA,KAAe,EAAf;IAAA;EAAA;AAAe;;EACdA,KAAmG,EAAnG;IAAA;IAAA;IAAA;IAAA;EAAA;AAAmG;;EACnGA,KAAkG,EAAlG;IAAA;IAAA;IAAA;EAAA;AAAkG;;EAE/FA,KAAgD,EAAhD;IAAA;IAAA;EAAA;AAAgD;;EAC/CA,KAA8C,EAA9C;IAAA;IAAA;EAAA;AAA8C;;gCAEjDD,mBAAA,CAAa,YAAT,MAAI;oBAARE,UAAa,C;;EAETD,KAAuB,EAAvB;IAAA;EAAA;AAAuB;;;EAM3BA,KAAyC,EAAzC;IAAA;IAAA;EAAA;AAAyC;iCAQ5CD,mBAAA,CAEM;EAFDC,KAAqB,EAArB;IAAA;EAAA;AAAqB,I,aACzBD,mBAAA,CAAiF;EAA5EC,KAAmC,EAAnC;IAAA;IAAA;EAAA,CAAmC;EAACE,GAAqC,EAArCJ;;qBAD1CK,WAEM,C;;6DA5BVC,UAEM,EACNL,mBAAA,CA6BM,OA7BNM,UA6BM,GA5BLN,mBAAA,CA2BM,OA3BNO,UA2BM,GA1BLP,mBAAA,CAyBK,MAzBLQ,UAyBK,I,kBAxBJC,mBAAA,CAkBKC,SAAA,QAAAC,WAAA,CAlBsBC,MAAA,CAAAC,WAAW,GAA1BC,GAAG,EAAEC,KAAK;yBAAtBN,mBAAA,CAkBK;MAlBoCO,GAAG,EAAED,KAAK;MAAGd,KAAK,EAAAgB,eAAA;QAAAC,eAAA,EAAqBJ,GAAG,CAACK;MAAgB,GAAI;QAAA;QAAA;QAAA;QAAA;QAAA;MAAA,CAAwG;QAC/MnB,mBAAA,CASM,OATNoB,UASM,GARLpB,mBAAA,CAOM,OAPNqB,UAOM,GANLrB,mBAAA,CAEM;MAFAsB,OAAK,EAAAC,MAAA,IAAEX,MAAA,CAAAY,WAAW,CAACV,GAAG;MAAGb,KAAmE,EAAnE;QAAA;QAAA;QAAA;MAAA;+CAG/BD,mBAAA,CAEM,OAFNyB,WAEM,GADLzB,mBAAA,CAAqG;MAA/FsB,OAAK,EAAAC,MAAA,IAAEX,MAAA,CAAAc,aAAa,CAACZ,GAAG;MAAGb,KAAiC,EAAjC;QAAA;QAAA;MAAA,CAAiC;MAACE,GAA+B,EAA/BL;gDAKtEE,mBAAA,CAAgE,KAAhE2B,WAAgE,EAAAC,gBAAA,CAAhBd,GAAG,CAACe,KAAK,kBACzD7B,mBAAA,CAEI,Y,iBAFD,OACE,GAAAA,mBAAA,CAAoC,gBAAA4B,gBAAA,CAAzBd,GAAG,CAACgB,SAAS,kB,iBAAY,MAAI,GAAA9B,mBAAA,CAAoC,gBAAA4B,gBAAA,CAAzBd,GAAG,CAACiB,SAAS,iB,GAGrEC,YAAA,CAAyFpB,MAAA;MAApEqB,OAAO,EAAEnB,GAAG,CAACmB,OAAO,CAACC,GAAG;oCAAfpB,GAAG,CAACmB,OAAO,CAACC,GAAG,GAAAX,MAAA;MAAEY,KAAK,EAAC,QAAQ;MAAEC,OAAO,EAAExB,MAAA,CAAAyB;;kCAEzErC,mBAAA,CAIK;IAJAsB,OAAK,EAAEV,MAAA,CAAA0B,YAAY;IAAEC,KAAK,EAAC,iBAAiB;IAACtC,KAAqI,EAArI;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}