{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { reactive, ref } from \"vue\";\nimport api from \"@/api/APIs\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  __name: 'LoginPage',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const router = useRouter();\n    const loginFromRef = ref();\n    const loginForm = reactive({\n      email: \"\",\n      password: \"\"\n    });\n    const rules = ref({\n      email: [{\n        required: true,\n        message: \"Please enter your email address\",\n        trigger: \"blur\"\n      }],\n      password: [{\n        required: true,\n        message: \"Please enter your Password\",\n        trigger: \"blur\"\n      }]\n    });\n    function loginAction() {\n      loginFromRef.value.validate(valid => {\n        if (valid) {\n          api.loginApi(loginForm).then(res => {\n            if (res.status === 200) {\n              window.sessionStorage.setItem(\"token\", res.token);\n              window.sessionStorage.setItem(\"email\", loginForm.email);\n              window.sessionStorage.setItem(\"name\", res.name);\n              router.push({\n                path: \"/home\"\n              });\n            }\n          });\n        } else {\n          return;\n        }\n      });\n    }\n    const __returned__ = {\n      router,\n      loginFromRef,\n      loginForm,\n      rules,\n      loginAction,\n      reactive,\n      ref,\n      get api() {\n        return api;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","ref","api","useRouter","router","loginFromRef","loginForm","email","password","rules","required","message","trigger","loginAction","value","validate","valid","loginApi","then","res","status","window","sessionStorage","setItem","token","name","push","path"],"sources":["/Users/xxxandre/UOW_Related/CSIT321_Project/github/github2/secboardfront/src/components/LoginPage.vue"],"sourcesContent":["<template>\n\t\n\t<div class=\"container\" style=\"position: relative;\">\n\t\t<img style=\"position: absolute; top: 0px; left: 0px; margin: 15px; height: 100px; width: 100px\" src=\"../../public/Logo_2.png\" />\n\t\t<!-- <div class=\"loginBox\">\n\n\t\t</div> -->\n\t\t<el-form :model=\"loginForm\" class=\"loginForm\" :rules=\"rules\" ref=\"loginFromRef\">\n\t\t\t<h1 style=\"font-size: 50px; margin-top: 15px\">Log in</h1>\n\t\t\t<h3>Enter your details to continue</h3>\n\n\t\t\t<strong style=\"margin-top: 180px\">Email address *</strong>\n\t\t\t<el-form-item prop=\"email\" style=\"height: 40px; width: 100%; border-radius: 10px\">\n\t\t\t\t<el-input v-model=\"loginForm.email\" style=\"border: 0; height: 100%; width: 100%; font-size: 20px\" placeholder=\"example@gmail.com\" color=\"#0D3A4A\" />\n\t\t\t</el-form-item>\n\n\t\t\t<strong style=\"margin-top: 20px\">Password *</strong>\n\t\t\t<el-form-item prop=\"password\" style=\"height: 40px; width: 100%; border-radius: 10px\">\n\t\t\t\t<el-input v-model=\"loginForm.password\" type=\"password\" style=\"border: 0; height: 100%; width: 100%; font-size: 20px\" placeholder=\"enter password\" color=\"#0D3A4A\" />\n\t\t\t</el-form-item>\n\n\t\t\t<div style=\"display: flex; justify-content: flex-start; margin-top: 10px\">\n\t\t\t\t<strong><a href=\"/forgotpassword\" style=\"color:white\">Forgot password?</a></strong>\n\t\t\t</div>\n\n\t\t\t<div @click=\"loginAction\" style=\"border-radius: 10px; margin-top: 30px; display: flex; justify-content: center; align-items: center; background-color: #e6cec5; color: #0c3f51; height: 40px; cursor: pointer\">\n\t\t\t\t<strong>Log in</strong>\n\t\t\t</div>\n\t\t\t<div style=\"text-align: center; margin-top: 20px\">\n\t\t\t\t<strong>Don't have an account? <a href=\"/register\" style=\"color: white\">Sign up</a> </strong>\n\t\t\t</div>\n\t\t</el-form>\n\t</div>\n</template>\n\n<script setup>\nimport { reactive, ref } from \"vue\";\nimport api from \"@/api/APIs\";\nimport { useRouter } from \"vue-router\";\nconst router = useRouter();\nconst loginFromRef = ref();\n\n\n\nconst loginForm = reactive({\n\temail: \"\",\n\tpassword: \"\",\n});\nconst rules = ref({\n\temail: [\n\t\t{\n\t\t\trequired: true,\n\t\t\tmessage: \"Please enter your email address\",\n\t\t\ttrigger: \"blur\",\n\t\t},\n\t],\n\tpassword: [\n\t\t{\n\t\t\trequired: true,\n\t\t\tmessage: \"Please enter your Password\",\n\t\t\ttrigger: \"blur\",\n\t\t},\n\t],\n});\nfunction loginAction() {\n\tloginFromRef.value.validate((valid) => {\n\t\tif (valid) {\n\t\t\tapi.loginApi(loginForm).then((res) => {\n\t\t\t\tif (res.status === 200) {\n\t\t\t\t\twindow.sessionStorage.setItem(\"token\", res.token);\n\t\t\t\t\twindow.sessionStorage.setItem(\"email\", loginForm.email);\n\t\t\t\t\twindow.sessionStorage.setItem(\"name\", res.name);\n\t\t\t\t\trouter.push({ path: \"/home\" });\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t});\n}\n</script>\n\n<style scoped>\n.container {\n\twidth: 100%;\n\theight: 100vh;\n\tbackground-color: #0c3f51;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n/* .loginBox {\n\theight: 100%;\n\twidth: 40%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tcolor: white;\n} */\n.loginForm {\n\theight: 100%;\n\twidth: 40%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tcolor: white;\n}\n</style>\n"],"mappings":";AAoCA,SAASA,QAAQ,EAAEC,GAAG,QAAQ,KAAK;AACnC,OAAOC,GAAG,MAAM,YAAY;AAC5B,SAASC,SAAS,QAAQ,YAAY;;;;;;;IACtC,MAAMC,MAAM,GAAGD,SAAS,EAAE;IAC1B,MAAME,YAAY,GAAGJ,GAAG,EAAE;IAI1B,MAAMK,SAAS,GAAGN,QAAQ,CAAC;MAC1BO,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE;IACX,CAAC,CAAC;IACF,MAAMC,KAAK,GAAGR,GAAG,CAAC;MACjBM,KAAK,EAAE,CACN;QACCG,QAAQ,EAAE,IAAI;QACdC,OAAO,EAAE,iCAAiC;QAC1CC,OAAO,EAAE;MACV,CAAC,CACD;MACDJ,QAAQ,EAAE,CACT;QACCE,QAAQ,EAAE,IAAI;QACdC,OAAO,EAAE,4BAA4B;QACrCC,OAAO,EAAE;MACV,CAAC;IAEH,CAAC,CAAC;IACF,SAASC,WAAWA,CAAA,EAAG;MACtBR,YAAY,CAACS,KAAK,CAACC,QAAQ,CAAEC,KAAK,IAAK;QACtC,IAAIA,KAAK,EAAE;UACVd,GAAG,CAACe,QAAQ,CAACX,SAAS,CAAC,CAACY,IAAI,CAAEC,GAAG,IAAK;YACrC,IAAIA,GAAG,CAACC,MAAM,KAAK,GAAG,EAAE;cACvBC,MAAM,CAACC,cAAc,CAACC,OAAO,CAAC,OAAO,EAAEJ,GAAG,CAACK,KAAK,CAAC;cACjDH,MAAM,CAACC,cAAc,CAACC,OAAO,CAAC,OAAO,EAAEjB,SAAS,CAACC,KAAK,CAAC;cACvDc,MAAM,CAACC,cAAc,CAACC,OAAO,CAAC,MAAM,EAAEJ,GAAG,CAACM,IAAI,CAAC;cAC/CrB,MAAM,CAACsB,IAAI,CAAC;gBAAEC,IAAI,EAAE;cAAQ,CAAC,CAAC;YAC/B;UACD,CAAC,CAAC;QACH,CAAC,MAAM;UACN;QACD;MACD,CAAC,CAAC;IACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}