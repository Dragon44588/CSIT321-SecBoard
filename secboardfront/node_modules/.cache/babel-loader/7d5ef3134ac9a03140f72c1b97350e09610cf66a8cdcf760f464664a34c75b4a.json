{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { reactive, ref } from \"vue\";\nimport api from \"@/api/APIs\";\nimport { useRouter } from \"vue-router\";\nimport { ElMessage } from \"element-plus\";\nexport default {\n  __name: 'ForgotLogin',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const router = useRouter();\n    const regiserFromRef = ref();\n    const registerForm = reactive({\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      checkPassword: \"\",\n      agree: []\n    });\n    const rules = ref({\n      name: [{\n        required: true,\n        message: \"Name cannot be null\",\n        trigger: \"blur\"\n      }],\n      email: [{\n        required: true,\n        message: \"Email cannot be null\",\n        trigger: \"blur\"\n      }],\n      password: [{\n        required: true,\n        message: \"Password cannot be null\",\n        trigger: \"blur\"\n      }],\n      checkPassword: [{\n        required: true,\n        message: \"Please enter your password again\",\n        trigger: \"blur\"\n      }],\n      agree: [{\n        type: \"array\",\n        required: true,\n        message: \"You need to agree it\",\n        trigger: \"change\"\n      }]\n    });\n    function registerAction() {\n      regiserFromRef.value.validate(valid => {\n        if (valid) {\n          if (registerForm.password === registerForm.checkPassword) {\n            api.registerApi(registerForm).then(res => {\n              if (res.status === 200) {\n                router.push({\n                  path: \"/login\"\n                });\n              }\n            });\n          } else {\n            ElMessage.error(\"Repeat password doesn't match\");\n          }\n        } else {\n          return;\n        }\n      });\n    }\n    const __returned__ = {\n      router,\n      regiserFromRef,\n      registerForm,\n      rules,\n      registerAction,\n      reactive,\n      ref,\n      get api() {\n        return api;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get ElMessage() {\n        return ElMessage;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","ref","api","useRouter","ElMessage","router","regiserFromRef","registerForm","name","email","password","checkPassword","agree","rules","required","message","trigger","type","registerAction","value","validate","valid","registerApi","then","res","status","push","path","error"],"sources":["C:/Users/Adrian Vergan/Documents/GitHub/CSIT321-SecBoard/secboardfront/src/components/ForgotLogin.vue"],"sourcesContent":["<template> <!--the template tags are neccessary for building a page, -->\r\n\t<div>\r\n\t\t<img style=\"height: 50px; width: 50px\" src=\"../../public/Logo_1.png\" />\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, ref } from \"vue\";\r\nimport api from \"@/api/APIs\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { ElMessage } from \"element-plus\";\r\n\r\nconst router = useRouter();\r\nconst regiserFromRef = ref();\r\n\r\nconst registerForm = reactive({\r\n\tname: \"\",\r\n\temail: \"\",\r\n\tpassword: \"\",\r\n\tcheckPassword: \"\",\r\n\tagree: [],\r\n});\r\n\r\nconst rules = ref({\r\n\tname: [\r\n\t\t{\r\n\t\t\trequired: true,\r\n\t\t\tmessage: \"Name cannot be null\",\r\n\t\t\ttrigger: \"blur\",\r\n\t\t},\r\n\t],\r\n\temail: [\r\n\t\t{\r\n\t\t\trequired: true,\r\n\t\t\tmessage: \"Email cannot be null\",\r\n\t\t\ttrigger: \"blur\",\r\n\t\t},\r\n\t],\r\n\tpassword: [\r\n\t\t{\r\n\t\t\trequired: true,\r\n\t\t\tmessage: \"Password cannot be null\",\r\n\t\t\ttrigger: \"blur\",\r\n\t\t},\r\n\t],\r\n\tcheckPassword: [\r\n\t\t{\r\n\t\t\trequired: true,\r\n\t\t\tmessage: \"Please enter your password again\",\r\n\t\t\ttrigger: \"blur\",\r\n\t\t},\r\n\t],\r\n\tagree: [\r\n\t\t{\r\n\t\t\ttype: \"array\",\r\n\t\t\trequired: true,\r\n\t\t\tmessage: \"You need to agree it\",\r\n\t\t\ttrigger: \"change\",\r\n\t\t},\r\n\t],\r\n});\r\n\r\nfunction registerAction() {\r\n\tregiserFromRef.value.validate((valid) => {\r\n\t\tif (valid) {\r\n\t\t\tif (registerForm.password === registerForm.checkPassword) {\r\n\t\t\t\tapi.registerApi(registerForm).then((res) => {\r\n\t\t\t\t\tif (res.status === 200) {\r\n\t\t\t\t\t\trouter.push({ path: \"/login\" });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tElMessage.error(\"Repeat password doesn't match\");\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn;\r\n\t\t}\r\n\t});\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\nel-form-item {\r\n\theight: 40px;\r\n\twidth: 100%;\r\n\tborder-radius: 10px\r\n}\r\n\r\n.input {\r\n\tcolor: #0D3A4A;\r\n\tborder: 0;\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tfont-size: 20px;\r\n}\r\n\r\n.container {\r\n\twidth: 100%;\r\n\theight: 100vh;\r\n\tbackground-color: #0c3f51;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n/* .loginBox {\r\n\theight: 100%;\r\n\twidth: 40%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tcolor: white;\r\n} */\r\n.registerForm {\r\n\theight: 100%;\r\n\twidth: 40%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tcolor: white;\r\n}\r\n</style>\r\n"],"mappings":";AAOA,SAASA,QAAQ,EAAEC,GAAG,QAAQ,KAAK;AACnC,OAAOC,GAAG,MAAM,YAAY;AAC5B,SAASC,SAAS,QAAQ,YAAY;AACtC,SAASC,SAAS,QAAQ,cAAc;;;;;;;IAExC,MAAMC,MAAM,GAAGF,SAAS,EAAE;IAC1B,MAAMG,cAAc,GAAGL,GAAG,EAAE;IAE5B,MAAMM,YAAY,GAAGP,QAAQ,CAAC;MAC7BQ,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,aAAa,EAAE,EAAE;MACjBC,KAAK,EAAE;IACR,CAAC,CAAC;IAEF,MAAMC,KAAK,GAAGZ,GAAG,CAAC;MACjBO,IAAI,EAAE,CACL;QACCM,QAAQ,EAAE,IAAI;QACdC,OAAO,EAAE,qBAAqB;QAC9BC,OAAO,EAAE;MACV,CAAC,CACD;MACDP,KAAK,EAAE,CACN;QACCK,QAAQ,EAAE,IAAI;QACdC,OAAO,EAAE,sBAAsB;QAC/BC,OAAO,EAAE;MACV,CAAC,CACD;MACDN,QAAQ,EAAE,CACT;QACCI,QAAQ,EAAE,IAAI;QACdC,OAAO,EAAE,yBAAyB;QAClCC,OAAO,EAAE;MACV,CAAC,CACD;MACDL,aAAa,EAAE,CACd;QACCG,QAAQ,EAAE,IAAI;QACdC,OAAO,EAAE,kCAAkC;QAC3CC,OAAO,EAAE;MACV,CAAC,CACD;MACDJ,KAAK,EAAE,CACN;QACCK,IAAI,EAAE,OAAO;QACbH,QAAQ,EAAE,IAAI;QACdC,OAAO,EAAE,sBAAsB;QAC/BC,OAAO,EAAE;MACV,CAAC;IAEH,CAAC,CAAC;IAEF,SAASE,cAAcA,CAAA,EAAG;MACzBZ,cAAc,CAACa,KAAK,CAACC,QAAQ,CAAEC,KAAK,IAAK;QACxC,IAAIA,KAAK,EAAE;UACV,IAAId,YAAY,CAACG,QAAQ,KAAKH,YAAY,CAACI,aAAa,EAAE;YACzDT,GAAG,CAACoB,WAAW,CAACf,YAAY,CAAC,CAACgB,IAAI,CAAEC,GAAG,IAAK;cAC3C,IAAIA,GAAG,CAACC,MAAM,KAAK,GAAG,EAAE;gBACvBpB,MAAM,CAACqB,IAAI,CAAC;kBAAEC,IAAI,EAAE;gBAAS,CAAC,CAAC;cAChC;YACD,CAAC,CAAC;UACH,CAAC,MAAM;YACNvB,SAAS,CAACwB,KAAK,CAAC,+BAA+B,CAAC;UACjD;QACD,CAAC,MAAM;UACN;QACD;MACD,CAAC,CAAC;IACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}