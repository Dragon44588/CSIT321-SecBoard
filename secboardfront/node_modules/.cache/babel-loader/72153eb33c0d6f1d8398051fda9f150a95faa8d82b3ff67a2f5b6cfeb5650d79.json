{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { reactive, ref } from \"vue\";\nimport api from \"@/api/APIs\";\nimport { useRouter } from \"vue-router\";\nimport { ElMessage } from \"element-plus\";\n\n///////////////////////////\nimport { QuillEditor } from \"@vueup/vue-quill\";\nimport \"@vueup/vue-quill/dist/vue-quill.snow.css\";\nimport \"@vueup/vue-quill/dist/vue-quill.bubble.css\";\n\n///////////////////////////\n\nexport default {\n  __name: 'Bulletin_board',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const mytoken = window.sessionStorage.getItem(\"token\");\n    const myname = window.sessionStorage.getItem(\"name\");\n    const postsList = ref();\n    const postContent = ref();\n    const postTitle = ref();\n    const router = useRouter();\n    const authForm = reactive({\n      token: mytoken\n    });\n    api.getPostsApi(authForm).then(res => {\n      postsList.value = res.posts;\n    });\n    const editorOptions = {\n      readOnly: true,\n      theme: \"bubble\"\n    };\n    const sendToDatabase = reactive({\n      post_id: null,\n      title: postTitle.value,\n      content: postContent.value,\n      token: mytoken,\n      name: myname\n    });\n    function requestReport(pl) {\n      sendToDatabase.post_id = pl.post_id;\n      sendToDatabase.title = pl.title;\n      sendToDatabase.content = pl.content;\n      api.addReportRequest(sendToDatabase).then(res => {\n        if (res.status === 201) {\n          ElMessage({\n            message: \"Done!\",\n            type: \"success\"\n          });\n          router.push({\n            path: \"/home\"\n          });\n        }\n      });\n    }\n    const __returned__ = {\n      mytoken,\n      myname,\n      postsList,\n      postContent,\n      postTitle,\n      router,\n      authForm,\n      editorOptions,\n      sendToDatabase,\n      requestReport,\n      reactive,\n      ref,\n      get api() {\n        return api;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get ElMessage() {\n        return ElMessage;\n      },\n      get QuillEditor() {\n        return QuillEditor;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","ref","api","useRouter","ElMessage","QuillEditor","mytoken","window","sessionStorage","getItem","myname","postsList","postContent","postTitle","router","authForm","token","getPostsApi","then","res","value","posts","editorOptions","readOnly","theme","sendToDatabase","post_id","title","content","name","requestReport","pl","addReportRequest","status","message","type","push","path"],"sources":["/Users/xxxandre/UOW_Related/CSIT321_Project/github/github2/secboardfront/src/components/HomepageComponents/Bulletin_board.vue"],"sourcesContent":["<template>\n\t<div style=\"height: 20%; display: flex; align-items: center\">\n\t\t<h1 style=\"margin-left: 50px; font-size: 3em; font-weight: bold\">Bulletin Board</h1>\n\t</div>\n\n\t<div style=\"flex: 1\">\n\t\t<div style=\"background-color: white; min-height: 500px; margin: 20px 20px 20px 50px; border-radius: 5px\">\n\t\t\t<ul style=\"display: grid; grid-template-columns: repeat(3, minmax(350px, 35%)); grid-auto-rows: 350px\">\n\t\t\t\t<li v-for=\"(pl, index) in postsList\" :key=\"index\" :style=\"{ backgroundColor: pl.background_color }\" style=\"height: 300px; margin: 20px; border-radius: 5px; padding: 10px 10px 50px 10px; overflow: hidden\">\n\t\t\t\t\t<div style=\"display: flex; justify-content: space-between\">\n\t\t\t\t\t\t<p style=\"font-weight: bold; font-size: 1.5em\">{{ pl.title }}</p>\n\n\t\t\t\t\t\t<div @click=\"requestReport(pl)\" style=\"display: flex; cursor: pointer\">\n\t\t\t\t\t\t\t<img style=\"height: 20px; width: 20px\" src=\"../../../public/alert-circle-outline.svg\" />\n\t\t\t\t\t\t\t<p style=\"color: red\">report</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tBy: <strong>{{ pl.user_name }}</strong> on <strong>{{ pl.timestamp }}</strong>\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<QuillEditor v-model:content=\"pl.content.ops\" theme=\"bubble\" :options=\"editorOptions\" />\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\nimport { reactive, ref } from \"vue\";\nimport api from \"@/api/APIs\";\nconst mytoken = window.sessionStorage.getItem(\"token\");\nconst myname = window.sessionStorage.getItem(\"name\");\n\nimport { useRouter } from \"vue-router\";\nimport { ElMessage } from \"element-plus\";\n\n///////////////////////////\nimport { QuillEditor } from \"@vueup/vue-quill\";\nimport \"@vueup/vue-quill/dist/vue-quill.snow.css\";\nimport \"@vueup/vue-quill/dist/vue-quill.bubble.css\";\n\n///////////////////////////\nconst postsList = ref();\nconst postContent = ref();\nconst postTitle = ref();\nconst router = useRouter();\n\nconst authForm = reactive({\n\ttoken: mytoken,\n});\n\napi.getPostsApi(authForm).then((res) => {\n\tpostsList.value = res.posts;\n});\n\nconst editorOptions = {\n\treadOnly: true,\n\ttheme: \"bubble\",\n};\n\nconst sendToDatabase = reactive({\n\tpost_id: null,\n\ttitle: postTitle.value,\n\tcontent: postContent.value,\n\ttoken: mytoken,\n\tname: myname,\n});\n\nfunction requestReport(pl) {\n\tsendToDatabase.post_id = pl.post_id;\n\tsendToDatabase.title = pl.title;\n\tsendToDatabase.content = pl.content;\n\tapi.addReportRequest(sendToDatabase).then((res) => {\n\t\tif (res.status === 201) {\n\t\t\tElMessage({\n\t\t\t\tmessage: \"Done!\",\n\t\t\t\ttype: \"success\",\n\t\t\t});\n\t\t\trouter.push({ path: \"/home\" });\n\t\t}\n\t});\n}\n</script>\n\n<style></style>\n"],"mappings":";AA6BA,SAASA,QAAQ,EAAEC,GAAG,QAAQ,KAAK;AACnC,OAAOC,GAAG,MAAM,YAAY;AAI5B,SAASC,SAAS,QAAQ,YAAY;AACtC,SAASC,SAAS,QAAQ,cAAc;;AAExC;AACA,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAO,0CAA0C;AACjD,OAAO,4CAA4C;;AAEnD;;;;;;;;IAXA,MAAMC,OAAO,GAAGC,MAAM,CAACC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;IACtD,MAAMC,MAAM,GAAGH,MAAM,CAACC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC;IAWpD,MAAME,SAAS,GAAGV,GAAG,EAAE;IACvB,MAAMW,WAAW,GAAGX,GAAG,EAAE;IACzB,MAAMY,SAAS,GAAGZ,GAAG,EAAE;IACvB,MAAMa,MAAM,GAAGX,SAAS,EAAE;IAE1B,MAAMY,QAAQ,GAAGf,QAAQ,CAAC;MACzBgB,KAAK,EAAEV;IACR,CAAC,CAAC;IAEFJ,GAAG,CAACe,WAAW,CAACF,QAAQ,CAAC,CAACG,IAAI,CAAEC,GAAG,IAAK;MACvCR,SAAS,CAACS,KAAK,GAAGD,GAAG,CAACE,KAAK;IAC5B,CAAC,CAAC;IAEF,MAAMC,aAAa,GAAG;MACrBC,QAAQ,EAAE,IAAI;MACdC,KAAK,EAAE;IACR,CAAC;IAED,MAAMC,cAAc,GAAGzB,QAAQ,CAAC;MAC/B0B,OAAO,EAAE,IAAI;MACbC,KAAK,EAAEd,SAAS,CAACO,KAAK;MACtBQ,OAAO,EAAEhB,WAAW,CAACQ,KAAK;MAC1BJ,KAAK,EAAEV,OAAO;MACduB,IAAI,EAAEnB;IACP,CAAC,CAAC;IAEF,SAASoB,aAAaA,CAACC,EAAE,EAAE;MAC1BN,cAAc,CAACC,OAAO,GAAGK,EAAE,CAACL,OAAO;MACnCD,cAAc,CAACE,KAAK,GAAGI,EAAE,CAACJ,KAAK;MAC/BF,cAAc,CAACG,OAAO,GAAGG,EAAE,CAACH,OAAO;MACnC1B,GAAG,CAAC8B,gBAAgB,CAACP,cAAc,CAAC,CAACP,IAAI,CAAEC,GAAG,IAAK;QAClD,IAAIA,GAAG,CAACc,MAAM,KAAK,GAAG,EAAE;UACvB7B,SAAS,CAAC;YACT8B,OAAO,EAAE,OAAO;YAChBC,IAAI,EAAE;UACP,CAAC,CAAC;UACFrB,MAAM,CAACsB,IAAI,CAAC;YAAEC,IAAI,EAAE;UAAQ,CAAC,CAAC;QAC/B;MACD,CAAC,CAAC;IACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}