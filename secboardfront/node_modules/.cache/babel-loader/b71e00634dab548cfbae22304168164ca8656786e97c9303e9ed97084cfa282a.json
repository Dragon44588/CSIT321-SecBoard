{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { reactive, ref } from \"vue\";\nimport api from \"@/api/APIs\";\nimport { useRouter } from \"vue-router\";\nimport { ElMessage } from \"element-plus\";\nexport default {\n  __name: 'ResetPassword',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const router = useRouter();\n    const resetPasswordFromRef = ref();\n    const resetPasswordForm = reactive({\n      token: \"\",\n      email: \"\",\n      password: \"\",\n      checkPassword: \"\"\n    });\n    const rules = ref({\n      password: [{\n        required: true,\n        message: \"Password cannot be null\",\n        trigger: \"blur\"\n      }],\n      checkPassword: [{\n        required: true,\n        message: \"Please enter your password again\",\n        trigger: \"blur\"\n      }]\n    });\n    function resetPasswordAction() {\n      resetPasswordFromRef.value.validate(valid => {\n        if (valid) {\n          if (resetPasswordForm.password === resetPasswordForm.checkPassword) {\n            const url = window.location.pathname.split('/'); //Get Url and split it into site/email/token\n            resetPasswordForm.email = url[2];\n            resetPasswordForm.token = url[3];\n            api.resetPassword(resetPasswordForm).then(res => {\n              if (res.status === 200) {\n                router.push({\n                  path: \"/login\"\n                });\n              }\n            });\n          } else {\n            ElMessage.error(\"Repeat password doesn't match\");\n          }\n        } else {\n          return;\n        }\n      });\n    }\n    const __returned__ = {\n      router,\n      resetPasswordFromRef,\n      resetPasswordForm,\n      rules,\n      resetPasswordAction,\n      reactive,\n      ref,\n      get api() {\n        return api;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get ElMessage() {\n        return ElMessage;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","ref","api","useRouter","ElMessage","router","resetPasswordFromRef","resetPasswordForm","token","email","password","checkPassword","rules","required","message","trigger","resetPasswordAction","value","validate","valid","url","window","location","pathname","split","resetPassword","then","res","status","push","path","error"],"sources":["/Users/xxxandre/UOW_Related/CSIT321_Project/github/github2/secboardfront/src/components/ResetPassword.vue"],"sourcesContent":["<template>\n\t<div class=\"container\">\n\t\t<!-- <div class=\"loginBox\">\n\n\t\t</div> -->\n\t\t<el-form :model=\"resetPasswordForm\" class=\"resetPasswordForm\" :rules=\"rules\" ref=\"resetPasswordFromRef\">\n\t\t\t<div style=\"height: 50px; margin-top: 50px; display: flex\">\n\t\t\t\t<div>\n\t\t\t\t\t<img style=\"height: 50px; width: 50px\" src=\"../../public/Logo_1.png\" />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<h1 style=\"font-size: 50px; font-weight: 900\">SecBoard</h1>\n\t\t\t\t</div>\n\t\t\t</div>\n            <br/>\n\t\t\t<h3> Please enter your new password:</h3>\n\n\t\t\t<strong style=\"margin-top: 20px\">New password *</strong>\n\t\t\t<el-form-item prop=\"password\" style=\"height: 40px; width: 100%; border-radius: 10px\">\n\t\t\t\t<el-input v-model=\"resetPasswordForm.password\" type=\"password\" show-password style=\"border: 0; height: 100%; width: 100%; font-size: 20px\" placeholder=\"enter password\" color=\"#0D3A4A\" />\n\t\t\t</el-form-item>\n\n\t\t\t<strong style=\"margin-top: 20px\">Repeat new password *</strong>\n\t\t\t<el-form-item prop=\"checkPassword\" style=\"height: 40px; width: 100%; border-radius: 10px\">\n\t\t\t\t<el-input v-model=\"resetPasswordForm.checkPassword\" type=\"password\" show-password style=\"border: 0; height: 100%; width: 100%; font-size: 20px\" placeholder=\"enter password again\" color=\"#0D3A4A\" />\n\t\t\t</el-form-item>\n\n\t\t\t<div @click=\"resetPasswordAction(resetPasswordFromRef)\" style=\"border-radius: 10px; margin-top: 50px; display: flex; justify-content: center; align-items: center; background-color: #e6cec5; color: #0c3f51; height: 40px; cursor: pointer\">\n\t\t\t\t<strong>Reset password</strong>\n\t\t\t</div>\n\t\t</el-form>\n\t</div>\n</template>\n\n<script setup>\nimport { reactive, ref } from \"vue\";\nimport api from \"@/api/APIs\";\nimport { useRouter } from \"vue-router\";\nimport { ElMessage } from \"element-plus\";\nconst router = useRouter();\nconst resetPasswordFromRef = ref();\n\nconst resetPasswordForm = reactive({\n\ttoken: \"\",\n\temail: \"\",\n\tpassword: \"\",\n\tcheckPassword: \"\",\n});\n\nconst rules = ref({\n\tpassword: [\n\t\t{\n\t\t\trequired: true,\n\t\t\tmessage: \"Password cannot be null\",\n\t\t\ttrigger: \"blur\",\n\t\t},\n\t],\n\tcheckPassword: [\n\t\t{\n\t\t\trequired: true,\n\t\t\tmessage: \"Please enter your password again\",\n\t\t\ttrigger: \"blur\",\n\t\t},\n\t],\n});\n\nfunction resetPasswordAction() {\n    \n\tresetPasswordFromRef.value.validate((valid) => {\n\t\tif (valid) {\n\t\t\tif (resetPasswordForm.password === resetPasswordForm.checkPassword) {\n                const url = window.location.pathname.split('/');//Get Url and split it into site/email/token\n                resetPasswordForm.email=url[2];\n                resetPasswordForm.token=url[3];\n\t\t\t\tapi.resetPassword(resetPasswordForm).then((res) => {\n\t\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t\trouter.push({ path: \"/login\" });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tElMessage.error(\"Repeat password doesn't match\");\n\t\t\t}\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t});\n}\n</script>\n\n<style scoped>\n.container {\n\twidth: 100%;\n\theight: 100vh;\n\tbackground-color: #0c3f51;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n/* .loginBox {\n\theight: 100%;\n\twidth: 40%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tcolor: white;\n} */\n.resetPasswordForm {\n\theight: 100%;\n\twidth: 40%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tcolor: white;\n}\n</style>\n"],"mappings":";AAmCA,SAASA,QAAQ,EAAEC,GAAG,QAAQ,KAAK;AACnC,OAAOC,GAAG,MAAM,YAAY;AAC5B,SAASC,SAAS,QAAQ,YAAY;AACtC,SAASC,SAAS,QAAQ,cAAc;;;;;;;IACxC,MAAMC,MAAM,GAAGF,SAAS,EAAE;IAC1B,MAAMG,oBAAoB,GAAGL,GAAG,EAAE;IAElC,MAAMM,iBAAiB,GAAGP,QAAQ,CAAC;MAClCQ,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,aAAa,EAAE;IAChB,CAAC,CAAC;IAEF,MAAMC,KAAK,GAAGX,GAAG,CAAC;MACjBS,QAAQ,EAAE,CACT;QACCG,QAAQ,EAAE,IAAI;QACdC,OAAO,EAAE,yBAAyB;QAClCC,OAAO,EAAE;MACV,CAAC,CACD;MACDJ,aAAa,EAAE,CACd;QACCE,QAAQ,EAAE,IAAI;QACdC,OAAO,EAAE,kCAAkC;QAC3CC,OAAO,EAAE;MACV,CAAC;IAEH,CAAC,CAAC;IAEF,SAASC,mBAAmBA,CAAA,EAAG;MAE9BV,oBAAoB,CAACW,KAAK,CAACC,QAAQ,CAAEC,KAAK,IAAK;QAC9C,IAAIA,KAAK,EAAE;UACV,IAAIZ,iBAAiB,CAACG,QAAQ,KAAKH,iBAAiB,CAACI,aAAa,EAAE;YACvD,MAAMS,GAAG,GAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC;YAChDjB,iBAAiB,CAACE,KAAK,GAACW,GAAG,CAAC,CAAC,CAAC;YAC9Bb,iBAAiB,CAACC,KAAK,GAACY,GAAG,CAAC,CAAC,CAAC;YAC1ClB,GAAG,CAACuB,aAAa,CAAClB,iBAAiB,CAAC,CAACmB,IAAI,CAAEC,GAAG,IAAK;cAClD,IAAIA,GAAG,CAACC,MAAM,KAAK,GAAG,EAAE;gBACvBvB,MAAM,CAACwB,IAAI,CAAC;kBAAEC,IAAI,EAAE;gBAAS,CAAC,CAAC;cAChC;YACD,CAAC,CAAC;UACH,CAAC,MAAM;YACN1B,SAAS,CAAC2B,KAAK,CAAC,+BAA+B,CAAC;UACjD;QACD,CAAC,MAAM;UACN;QACD;MACD,CAAC,CAAC;IACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}