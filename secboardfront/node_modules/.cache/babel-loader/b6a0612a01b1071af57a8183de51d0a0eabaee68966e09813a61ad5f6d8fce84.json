{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, vModelText as _vModelText, withDirectives as _withDirectives, createVNode as _createVNode } from \"vue\";\nimport _imports_0 from '../../../public/close-outline.svg';\nconst _hoisted_1 = {\n  style: {\n    \"flex\": \"1\",\n    \"display\": \"flex\",\n    \"flex-direction\": \"column\"\n  }\n};\nconst _hoisted_2 = {\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"space-between\",\n    \"margin\": \"10px\"\n  }\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0\n}, null, -1 /* HOISTED */);\nconst _hoisted_4 = [_hoisted_3];\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"flex\": \"1\",\n    \"display\": \"flex\",\n    \"justify-content\": \"center\",\n    \"align-items\": \"center\",\n    \"color\": \"rgb(68, 68, 68)\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"h1\", null, \"EDITING A POST\")], -1 /* HOISTED */);\nconst _hoisted_6 = {\n  style: {\n    \"justify-content\": \"flex-end\",\n    \"align-items\": \"center\",\n    \"display\": \"flex\"\n  }\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"strong\", {\n  style: {\n    \"margin-right\": \"10px\"\n  }\n}, \"Post Color\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  style: {\n    \"display\": \"flex\"\n  }\n};\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"strong\", {\n  style: {\n    \"width\": \"100px\",\n    \"color\": \"white\",\n    \"font-size\": \"1.2em\",\n    \"font-weight\": \"bold\",\n    \"border-radius\": \"5px\",\n    \"text-align\": \"center\"\n  }\n}, \"Apply Change\", -1 /* HOISTED */);\nconst _hoisted_11 = [_hoisted_10];\nconst _hoisted_12 = {\n  style: {\n    \"flex\": \"1\",\n    \"display\": \"flex\",\n    \"flex-direction\": \"column\"\n  }\n};\nconst _hoisted_13 = {\n  style: {\n    \"height\": \"150px\",\n    \"padding\": \"30px\"\n  }\n};\nconst _hoisted_14 = {\n  style: {\n    \"flex\": \"1\",\n    \"padding\": \"30px\"\n  }\n};\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"p\", {\n  style: {\n    \"margin-bottom\": \"10px\",\n    \"color\": \"rgb(80, 80, 80)\",\n    \"font-size\": \"1.5em\"\n  }\n}, \"Content\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", {\n    onClick: $setup.goCancelAddNewPost,\n    style: {\n      \"height\": \"50px\",\n      \"width\": \"50px\",\n      \"cursor\": \"pointer\"\n    }\n  }, _hoisted_4), _hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _createElementVNode(\"ul\", _hoisted_8, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.post_color_list, (color, index) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: index\n    }, [_createElementVNode(\"div\", {\n      onClick: $event => $setup.current_post_color = color,\n      style: _normalizeStyle([{\n        \"margin-right\": \"10px\",\n        \"height\": \"30px\",\n        \"width\": \"30px\",\n        \"border-radius\": \"50%\",\n        \"cursor\": \"pointer\"\n      }, $setup.handle_post_color(color)])\n    }, null, 12 /* STYLE, PROPS */, _hoisted_9)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", {\n    onClick: $setup.goSavePost,\n    class: \"save-post-button\",\n    style: {\n      \"display\": \"flex\",\n      \"justify-content\": \"center\",\n      \"align-items\": \"center\",\n      \"margin-right\": \"20px\",\n      \"border-radius\": \"5px\",\n      \"cursor\": \"pointer\"\n    }\n  }, _hoisted_11)]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.postTitle = $event),\n    placeholder: \"Title\",\n    style: {\n      \"height\": \"100%\",\n      \"width\": \"100%\",\n      \"border\": \"none\",\n      \"outline\": \"none\",\n      \"background-color\": \"#f7e4de\",\n      \"font-size\": \"2.8em\",\n      \"font-weight\": \"bold\"\n    }\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.postTitle]])]), _createElementVNode(\"div\", _hoisted_14, [_hoisted_15, _createVNode($setup[\"QuillEditor\"], {\n    ref: \"quill_rich\",\n    style: {\n      \"height\": \"80%\"\n    },\n    content: $setup.rich_text,\n    \"onUpdate:content\": _cache[1] || (_cache[1] = $event => $setup.rich_text = $event),\n    theme: \"snow\",\n    contentType: \"delta\",\n    toolbar: $setup.customToolbarOptions,\n    options: $setup.editor_options\n  }, null, 8 /* PROPS */, [\"content\"])])])]);\n}","map":{"version":3,"names":["_imports_0","style","_createElementVNode","src","_hoisted_3","_hoisted_10","_createElementBlock","_hoisted_1","_hoisted_2","onClick","$setup","goCancelAddNewPost","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_Fragment","_renderList","post_color_list","color","index","key","$event","current_post_color","_normalizeStyle","handle_post_color","goSavePost","class","_hoisted_12","_hoisted_13","postTitle","placeholder","_hoisted_14","_hoisted_15","_createVNode","ref","content","rich_text","theme","contentType","toolbar","customToolbarOptions","options","editor_options"],"sources":["/Users/xxxandre/UOW_Related/CSIT321_Project/github/github2/secboardfront/src/components/HomepageComponents/Edit_A_Post.vue"],"sourcesContent":["<template>\n\t<div style=\"flex: 1; display: flex; flex-direction: column\">\n\t\t<div style=\"display: flex; justify-content: space-between; margin: 10px\">\n\t\t\t<div @click=\"goCancelAddNewPost\" style=\"height: 50px; width: 50px; cursor: pointer\">\n\t\t\t\t<img src=\"../../../public/close-outline.svg\" />\n\t\t\t</div>\n\t\t\t<div style=\"flex: 1; display: flex; justify-content: center; align-items: center; color: rgb(68, 68, 68)\">\n\t\t\t\t<h1>EDITING A POST</h1>\n\t\t\t</div>\n\t\t\t<div style=\"justify-content: flex-end; align-items: center; display: flex\">\n\t\t\t\t<strong style=\"margin-right: 10px\">Post Color</strong>\n\t\t\t\t<ul style=\"display: flex\">\n\t\t\t\t\t<li v-for=\"(color, index) in post_color_list\" :key=\"index\">\n\t\t\t\t\t\t<div @click=\"current_post_color = color\" style=\"margin-right: 10px; height: 30px; width: 30px; border-radius: 50%; cursor: pointer\" :style=\"handle_post_color(color)\"></div>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div @click=\"goSavePost\" class=\"save-post-button\" style=\"display: flex; justify-content: center; align-items: center; margin-right: 20px; border-radius: 5px; cursor: pointer\">\n\t\t\t\t<strong style=\"width: 100px; color: white; font-size: 1.2em; font-weight: bold; border-radius: 5px; text-align: center\">Apply Change</strong>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div style=\"flex: 1; display: flex; flex-direction: column\">\n\t\t\t<div style=\"height: 150px; padding: 30px\">\n\t\t\t\t<input v-model=\"postTitle\" placeholder=\"Title\" style=\"height: 100%; width: 100%; border: none; outline: none; background-color: #f7e4de; font-size: 2.8em; font-weight: bold\" />\n\t\t\t</div>\n\n\t\t\t<div style=\"flex: 1; padding: 30px\">\n\t\t\t\t<p style=\"margin-bottom: 10px; color: rgb(80, 80, 80); font-size: 1.5em\">Content</p>\n\n\t\t\t\t<QuillEditor ref=\"quill_rich\" style=\"height: 80%\" v-model:content=\"rich_text\" theme=\"snow\" contentType=\"delta\" :toolbar=\"customToolbarOptions\" :options=\"editor_options\" />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\nimport { onBeforeMount, onMounted, reactive, ref } from \"vue\";\nimport { ElMessage } from \"element-plus\";\nimport api from \"@/api/APIs\";\nimport { useRouter } from \"vue-router\";\nconst router = useRouter();\n\nconst myToken = window.sessionStorage.getItem(\"token\");\nconst myName = window.sessionStorage.getItem(\"name\");\n\nconst post_color_list = ref([\"lightgoldenrodyellow\", \"lightcoral\", \"lightcyan\", \"lightsalmon\"]);\nconst current_post_color = ref(post_color_list.value[0]);\n\nfunction handle_post_color(color) {\n\treturn {\n\t\tbackgroundColor: color,\n\t\tborder: color === current_post_color.value ? \"1px solid black\" : \"none\",\n\t};\n}\n\nconst origin_post = JSON.parse(window.sessionStorage.getItem(\"current_editing\"));\nconst rich_text = ref(\"\");\nconst quill_rich = ref();\nconst postTitle = ref();\nconst postForm = reactive({\n\ttitle: \"\",\n\tcontent: \"\",\n\tpost_color: \"\",\n\torigin_title: \"\",\n\torigin_content: \"\",\n\torigin_post_color: \"\",\n\ttoken: myToken,\n\tname: myName,\n\tpost_id: \"\",\n});\n\nonBeforeMount(() => {\n\tpostTitle.value = origin_post.title;\n\tcurrent_post_color.value = origin_post.background_color;\n});\nonMounted(() => {\n\tlet q = quill_rich.value.getQuill();\n\tq.setContents(origin_post.content);\n\t// quill_rich.value.setContents(origin_post.content);\n});\n\nfunction goSavePost() {\n\tif (rich_text.value === undefined) {\n\t\tElMessage({\n\t\t\tmessage: \"Title or Content cannot be empty\",\n\t\t\ttype: \"warning\",\n\t\t});\n\t\treturn;\n\t}\n\n\tconst text = rich_text.value.map((op) => op.insert).join(\"\");\n\n\tif (text === \"\") {\n\t\tElMessage({\n\t\t\tmessage: \"Title or Content cannot be empty\",\n\t\t\ttype: \"warning\",\n\t\t});\n\t} else {\n\t\tpostForm.title = postTitle.value;\n\t\tpostForm.content = rich_text.value;\n\t\tpostForm.post_color = current_post_color.value;\n\t\tpostForm.origin_title = origin_post.title;\n\t\tpostForm.origin_content = origin_post.content;\n\t\tpostForm.origin_post_color = origin_post.background_color;\n\t\tpostForm.post_id = origin_post.post_id;\n\t\tapi.addEditRequest(postForm).then((res) => {\n\t\t\tif (res.status === 201) {\n\t\t\t\tElMessage({\n\t\t\t\t\tmessage: \"Done!\",\n\t\t\t\t\ttype: \"success\",\n\t\t\t\t});\n\t\t\t\trouter.push({ path: \"/home\" });\n\t\t\t}\n\t\t});\n\t}\n}\nfunction goCancelAddNewPost() {\n\trouter.push({ path: \"/home/my_posts\" });\n}\n\nimport { QuillEditor, Quill } from \"@vueup/vue-quill\";\nimport ImageResize from \"quill-image-resize-vue\"; // Note, this doesn't use deconstruction\nimport { ImageDrop } from \"quill-image-drop-module\";\nQuill.register(\"modules/imageResize\", ImageResize);\nQuill.register(\"modules/imageDrop\", ImageDrop);\nimport \"@vueup/vue-quill/dist/vue-quill.snow.css\";\n\nconst customToolbarOptions = [\n\t[\"bold\", \"italic\", \"underline\", \"strike\"],\n\t[\"blockquote\", \"code-block\"],\n\t[{ header: 1 }, { header: 2 }],\n\t[{ list: \"ordered\" }, { list: \"bullet\" }],\n\t[{ script: \"sub\" }, { script: \"super\" }],\n\t[{ indent: \"-1\" }, { indent: \"+1\" }],\n\t[{ direction: \"rtl\" }],\n\t[{ size: [\"small\", false, \"large\", \"huge\"] }],\n\t[{ header: [1, 2, 3, 4, 5, 6, false] }],\n\t[{ color: [] }, { background: [] }],\n\t[{ font: [] }],\n\t[{ align: [] }],\n\t[\"link\", \"image\", \"video\"], // Add image and video options\n\t[\"clean\"],\n];\n\nconst editor_options = {\n\tmodules: {\n\t\timageResize: {\n\t\t\tdisplaySize: true,\n\t\t},\n\t\timageDrop: {},\n\t},\n};\n</script>\n\n<style>\n.save-post-button {\n\tbackground-color: #0c3f51;\n}\n.save-post-button:hover {\n\tbackground-color: #072733;\n}\n</style>\n"],"mappings":";OAISA,UAAuC;;EAH1CC,KAAsD,EAAtD;IAAA;IAAA;IAAA;EAAA;AAAsD;;EACrDA,KAAmE,EAAnE;IAAA;IAAA;IAAA;EAAA;AAAmE;gCAEtEC,mBAAA,CAA+C;EAA1CC,GAAuC,EAAvCH;AAAuC;oBAA5CI,UAA+C,C;gCAEhDF,mBAAA,CAEM;EAFDD,KAAoG,EAApG;IAAA;IAAA;IAAA;IAAA;IAAA;EAAA;AAAoG,I,aACxGC,mBAAA,CAAuB,YAAnB,gBAAc,E;;EAEdD,KAAqE,EAArE;IAAA;IAAA;IAAA;EAAA;AAAqE;gCACzEC,mBAAA,CAAsD;EAA9CD,KAA0B,EAA1B;IAAA;EAAA;AAA0B,GAAC,YAAU;;EACzCA,KAAqB,EAArB;IAAA;EAAA;AAAqB;;iCAOzBC,mBAAA,CAA6I;EAArID,KAA+G,EAA/G;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;EAAA;AAA+G,GAAC,cAAY;qBAApII,WAA6I,C;;EAI1IJ,KAAsD,EAAtD;IAAA;IAAA;IAAA;EAAA;AAAsD;;EACrDA,KAAoC,EAApC;IAAA;IAAA;EAAA;AAAoC;;EAIpCA,KAA8B,EAA9B;IAAA;IAAA;EAAA;AAA8B;iCAClCC,mBAAA,CAAoF;EAAjFD,KAAqE,EAArE;IAAA;IAAA;IAAA;EAAA;AAAqE,GAAC,SAAO;;;uBA3BnFK,mBAAA,CAgCM,OAhCNC,UAgCM,GA/BLL,mBAAA,CAkBM,OAlBNM,UAkBM,GAjBLN,mBAAA,CAEM;IAFAO,OAAK,EAAEC,MAAA,CAAAC,kBAAkB;IAAEV,KAAkD,EAAlD;MAAA;MAAA;MAAA;IAAA;kBAGjCW,UAEM,EACNV,mBAAA,CAOM,OAPNW,UAOM,GANLC,UAAsD,EACtDZ,mBAAA,CAIK,MAJLa,UAIK,I,kBAHJT,mBAAA,CAEKU,SAAA,QAAAC,WAAA,CAFwBP,MAAA,CAAAQ,eAAe,GAAhCC,KAAK,EAAEC,KAAK;yBAAxBd,mBAAA,CAEK;MAF0Ce,GAAG,EAAED;IAAK,IACxDlB,mBAAA,CAA4K;MAAtKO,OAAK,EAAAa,MAAA,IAAEZ,MAAA,CAAAa,kBAAkB,GAAGJ,KAAK;MAAElB,KAA0F,EAAAuB,eAAA,EAA1F;QAAA;QAAA;QAAA;QAAA;QAAA;MAAA,CAA0F,EAASd,MAAA,CAAAe,iBAAiB,CAACN,KAAK;;sCAItKjB,mBAAA,CAEM;IAFAO,OAAK,EAAEC,MAAA,CAAAgB,UAAU;IAAEC,KAAK,EAAC,kBAAkB;IAAC1B,KAA4H,EAA5H;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;qBAKnDC,mBAAA,CAUM,OAVN0B,WAUM,GATL1B,mBAAA,CAEM,OAFN2B,WAEM,G,gBADL3B,mBAAA,CAAgL;+DAAhKQ,MAAA,CAAAoB,SAAS,GAAAR,MAAA;IAAES,WAAW,EAAC,OAAO;IAAC9B,KAA8H,EAA9H;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;iDAA/BS,MAAA,CAAAoB,SAAS,E,KAG1B5B,mBAAA,CAIM,OAJN8B,WAIM,GAHLC,WAAoF,EAEpFC,YAAA,CAA2KxB,MAAA;IAA9JyB,GAAG,EAAC,YAAY;IAAClC,KAAmB,EAAnB;MAAA;IAAA,CAAmB;IAASmC,OAAO,EAAE1B,MAAA,CAAA2B,SAAS;4DAAT3B,MAAA,CAAA2B,SAAS,GAAAf,MAAA;IAAEgB,KAAK,EAAC,MAAM;IAACC,WAAW,EAAC,OAAO;IAAEC,OAAO,EAAE9B,MAAA,CAAA+B,oBAAoB;IAAGC,OAAO,EAAEhC,MAAA,CAAAiC"},"metadata":{},"sourceType":"module","externalDependencies":[]}