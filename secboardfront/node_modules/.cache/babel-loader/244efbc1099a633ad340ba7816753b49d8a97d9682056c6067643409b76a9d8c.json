{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from \"vue\";\nexport default {\n  __name: 'Blockchain-page',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    var postsList = ref([]);\n    async function getBlockchain() {\n      var blockchain = [];\n      var blockNumber = 0;\n      var block = {\n        blockNumber: \"1\",\n        previousHash: \"1\",\n        proofOfWork: \"1\"\n      };\n      try {\n        let response = await fetch(\"/files/database.JSON\");\n        let responsejson = await response.json();\n        for (const i of responsejson[\"Main chain\"]) {\n          var blockNumberString = String(blockNumber);\n          block.blockNumber = blockNumberString;\n          blockNumber = blockNumber + 1;\n          if (i && i[\"Previous Hash\"]) {\n            block.previousHash = i[\"Previous Hash\"];\n            block.proofOfWork = i[\"Proof of work\"];\n          } else {\n            block.previousHash = i[\"CORRECTED\"];\n            block.proofOfWork = i[\"CORRECTED\"];\n          }\n          blockchain.push(block);\n        }\n        postsList.value = blockchain;\n      } catch (err) {\n        console.error(\"Error fetching and processing the blockchain:\", err);\n      }\n      // return blockchain;\n    }\n\n    getBlockchain();\n    // postsList.value = await getBlockchain();\n\n    // console.log(postsList.value);\n\n    const __returned__ = {\n      get postsList() {\n        return postsList;\n      },\n      set postsList(v) {\n        postsList = v;\n      },\n      getBlockchain,\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","postsList","getBlockchain","blockchain","blockNumber","block","previousHash","proofOfWork","response","fetch","responsejson","json","i","blockNumberString","String","push","value","err","console","error"],"sources":["C:/Users/Azza/Desktop/CSIT321/CSIT321-SecBoard/secboardfront/src/components/HomepageComponents/Blockchain-page.vue"],"sourcesContent":["<template>\r\n\t<div style=\"height: 20%; display: flex; align-items: center\">\r\n\t\t<h1 style=\"margin-left: 50px; font-size: 3em; font-weight: bold\">Standard Chain</h1>\r\n\t</div>\r\n\t<div style=\"flex: 1\">\r\n\t\t<div style=\"background-color: white; min-height: 500px; margin: 20px 20px 20px 50px; border-radius: 5px\">\r\n\t\t\t<ul style=\"display: grid; grid-template-columns: repeat(3, minmax(350px, 35%)); grid-auto-rows: 350px\">\r\n\t\t\t\t<li v-for=\"pl in postsList\" style=\"height: 300px; margin: 20px; background-color: #fdf2b3; border-radius: 5px\">\r\n\t\t\t\t\t<div style=\"padding: 15px\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<strong style=\"font-weight: bold; font-size: 2em\">{{ pl.blockNumber }}</strong>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style=\"margin-top: 5px\">\r\n\t\t\t\t\t\t\t<span style=\"font-size: 0.76em\">\r\n\t\t\t\t\t\t\t\t{{ pl }}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div style=\"height: 20%; display: flex; align-items: center\">\r\n\t\t<h1 style=\"margin-left: 50px; font-size: 3em; font-weight: bold\">Correction Chain</h1>\r\n\t</div>\r\n\t<div style=\"flex: 1\">\r\n\t\t<div style=\"background-color: white; min-height: 500px; margin: 20px 20px 20px 50px; border-radius: 5px\">\r\n\t\t\t<ul style=\"display: grid; grid-template-columns: repeat(3, minmax(350px, 35%)); grid-auto-rows: 350px\">\r\n\t\t\t\t<li v-for=\"(pl, index) in postsList\" :key=\"index\" style=\"height: 300px; margin: 20px; background-color: #fdf2b3; border-radius: 5px\">\r\n\t\t\t\t\t<div style=\"padding: 15px\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<strong style=\"font-weight: bold; font-size: 2em\">{{ pl.title }}</strong>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style=\"margin-top: 5px\">\r\n\t\t\t\t\t\t\t<span style=\"font-size: 1.1em\">\r\n\t\t\t\t\t\t\t\t{{ pl }}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nvar postsList = ref([]);\r\n\r\nasync function getBlockchain() {\r\n\tvar blockchain = [];\r\n\tvar blockNumber = 0;\r\n\tvar block = {\r\n\t\tblockNumber: \"1\",\r\n\t\tpreviousHash: \"1\",\r\n\t\tproofOfWork: \"1\"\r\n\t};\r\n\ttry {\r\n\t\tlet response = await fetch(\"/files/database.JSON\");\r\n\t\tlet responsejson = await response.json();\r\n\t\tfor (const i of responsejson[\"Main chain\"]) {\r\n\t\t\tvar blockNumberString = String(blockNumber);\r\n\t\t\tblock.blockNumber = blockNumberString;\r\n\t\t\tblockNumber = blockNumber + 1;\r\n\t\t\tif (i && i[\"Previous Hash\"]) {\r\n\t\t\t\tblock.previousHash = i[\"Previous Hash\"];\r\n\t\t\t\tblock.proofOfWork = i[\"Proof of work\"];\r\n\t\t\t} else {\r\n\t\t\t\tblock.previousHash = i[\"CORRECTED\"];\r\n\t\t\t\tblock.proofOfWork = i[\"CORRECTED\"];\r\n\t\t\t}\r\n\t\t\tblockchain.push(block);\r\n\t\t}\r\n\t\tpostsList.value = blockchain;\r\n\t} catch (err) {\r\n\t\tconsole.error(\"Error fetching and processing the blockchain:\", err);\r\n\t}\r\n\t// return blockchain;\r\n}\r\ngetBlockchain();\r\n// postsList.value = await getBlockchain();\r\n\r\n// console.log(postsList.value);\r\n</script>\r\n\r\n<style></style>\r\n"],"mappings":";AA+CA,SAASA,GAAG,QAAQ,KAAK;;;;;;;IACzB,IAAIC,SAAS,GAAGD,GAAG,CAAC,EAAE,CAAC;IAEvB,eAAeE,aAAaA,CAAA,EAAG;MAC9B,IAAIC,UAAU,GAAG,EAAE;MACnB,IAAIC,WAAW,GAAG,CAAC;MACnB,IAAIC,KAAK,GAAG;QACXD,WAAW,EAAE,GAAG;QAChBE,YAAY,EAAE,GAAG;QACjBC,WAAW,EAAE;MACd,CAAC;MACD,IAAI;QACH,IAAIC,QAAQ,GAAG,MAAMC,KAAK,CAAC,sBAAsB,CAAC;QAClD,IAAIC,YAAY,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;QACxC,KAAK,MAAMC,CAAC,IAAIF,YAAY,CAAC,YAAY,CAAC,EAAE;UAC3C,IAAIG,iBAAiB,GAAGC,MAAM,CAACV,WAAW,CAAC;UAC3CC,KAAK,CAACD,WAAW,GAAGS,iBAAiB;UACrCT,WAAW,GAAGA,WAAW,GAAG,CAAC;UAC7B,IAAIQ,CAAC,IAAIA,CAAC,CAAC,eAAe,CAAC,EAAE;YAC5BP,KAAK,CAACC,YAAY,GAAGM,CAAC,CAAC,eAAe,CAAC;YACvCP,KAAK,CAACE,WAAW,GAAGK,CAAC,CAAC,eAAe,CAAC;UACvC,CAAC,MAAM;YACNP,KAAK,CAACC,YAAY,GAAGM,CAAC,CAAC,WAAW,CAAC;YACnCP,KAAK,CAACE,WAAW,GAAGK,CAAC,CAAC,WAAW,CAAC;UACnC;UACAT,UAAU,CAACY,IAAI,CAACV,KAAK,CAAC;QACvB;QACAJ,SAAS,CAACe,KAAK,GAAGb,UAAU;MAC7B,CAAC,CAAC,OAAOc,GAAG,EAAE;QACbC,OAAO,CAACC,KAAK,CAAC,+CAA+C,EAAEF,GAAG,CAAC;MACpE;MACA;IACD;;IACAf,aAAa,EAAE;IACf;;IAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}